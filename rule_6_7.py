[
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_20251016161027920D8D30AEA3491AAAD8EF1BA6C6477A.jpg",
    "response": "这张广告图的排版布局**合理**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：图中“支”字（支付宝logo的一部分）位于左上角，而主要宣传语“蚂蚁庄园抽奖 稀有装扮等你来”在其下方偏右，两者之间有明显的留白和视觉间距，不会显得拥挤或重叠。标签logo（“支”）与文字之间距离适中，符合视觉引导和品牌识别的规范。\n\n2.  **字与商品之间距离**：宣传语“蚂蚁庄园抽奖 稀有装扮等你来”位于上方，而下方的“开启支付宝新玩法”标签和卡通形象（商品/视觉主体）之间有充足的视觉空间。卡通形象（“小鸡”）是核心视觉焦点，位于一个发光的手机屏幕中，与上方文字形成清晰的上下层级关系，没有文字被挤压或覆盖商品的情况。\n\n**结论**：\n图中文字与标签logo、文字与商品之间均保持了恰当的间距，视觉层次清晰，信息传达明确，没有出现“离得太近”导致布局拥挤或视觉混乱的问题。因此，这张广告图的排版布局是**合理**"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/2025081810463743ed3efc3af141188679e417662a9a87.jpg",
    "response": "这张广告图的排版布局是**合理的**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告图中，“中国黄金 China Gold”和“百亿补贴”两个品牌/活动标签位于商品下方，它们之间有清晰的间距，且与下方的主标题“好运莲莲足金项链”之间也留有适当空白。这种布局符合视觉层级，标签作为品牌背书，位置恰当，不会显得拥挤。\n\n2.  **字与商品之间距离**：商品（莲花吊坠项链）位于画面中上部，下方是品牌和标题文字。商品与文字之间有明显的视觉间隔，由红色信封和背景色块过渡，既突出了商品本身，又保证了文字信息的可读性。文字没有“压”在商品上，也没有“贴”在商品边缘，视觉上是分离且平衡的。\n\n**结论**：图中文字与标签logo、文字与商品之间均没有“离得太近”的问题，整体布局层次分明，重点突出，视觉引导清晰，符合商业广告设计规范。因此，这张广告图的排版布局是**合理**的。"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/202507171759420E3753EA5DE54D10A921F50543CD40B5.jpg",
    "response": "1. **字与标签logo之间**：  \n   图中“淘宝闪购！”和“点外卖更优惠”这两行大字位于上方，下方是“淘宝闪购”标签logo。两者之间有明显的垂直间距，标签logo并未紧贴上方文字，而是留有适当留白，视觉上不拥挤，**距离合理**。\n\n2. **字与商品之间**：  \n   文字位于图片上半部分，商品（牛排）位于图片下半部分，中间隔着窗户和背景。文字与牛排之间有大量留白，且文字并未遮挡或压迫商品，反而通过背景虚化和构图引导视线从文字自然过渡到商品，**距离合理**。\n\n**最终判断**：  \n两张广告图的排版布局**合理**。文字与标签logo、文字与商品之间均未离得太近，整体视觉层次清晰，重点突出，符合广告设计规范。"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/202510221920039E85E5CA533F4ED8AE6AD7952203E21A.jpg",
    "response": "1. **字与标签logo之间是否离得太近？**  \n   - 图中“芒果tv”标签logo位于左上角，而“水龙吟”三个字位于右下角。两者在画面中处于对角线两端，中间有大量留白和视觉空间，距离较远，**不近**。\n\n2. **字与商品之间是否离得太近？**  \n   - “水龙吟”是剧名文字，不是商品；图中“商品”可理解为人物所持的剑（作为视觉焦点或“产品”象征）。文字“水龙吟”位于右下角，剑的剑柄部分在人物手中，剑身斜向穿过画面，文字与剑在空间上没有直接重叠或挤压，**距离适中，不近**。\n\n✅ **结论：**  \n两张广告图中，**字与标签logo之间不近，字与商品之间也不近**，排版布局**合理**。  \n—— 无任何一项违反“离得太近”的判断标准，因此整体排版布局合理。\n\n**最终判断：排版布局合理。**"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/20250821145317E4398E4AED7F4F9F84CECA3EBEC7A025.jpg",
    "response": "1. **字与标签logo之间距离**：  \n   图中“合成玩法！”的白色大字位于图片底部，而上方的“标签logo”（即游戏图标网格）在图片上半部分。两者之间有明显的垂直空间，中间隔着整个图标网格区域，距离较远，**不近**。\n\n2. **字与商品之间距离**：  \n   “合成玩法！”的字位于图片底部，而“商品”（即图标网格）位于图片上半部分。两者之间有大量留白和视觉空间，字并未压在商品上或紧贴商品，**不近**。\n\n**结论**：  \n两个判断均显示“不近”，即字与标签logo之间、字与商品之间都没有离得太近的问题。因此，这张广告图的排版布局**合理**。\n\n✅ **最终判断：排版布局合理。**"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/202509072053389333a96f9b384fca9382ee53b06825a3.jpg",
    "response": "这张广告图的排版布局**合理**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告图中，“中国黄金 China Gold”和“百亿补贴”两个标签logo位于商品下方，中间有清晰的间距，且与下方的主标题“好运莲莲足金项链”之间也留有适当空隙。这种布局符合视觉层级，避免了拥挤感，阅读流畅。\n\n2.  **字与商品之间距离**：商品（金色莲花项链）位于画面中上部，下方是品牌和活动标签，再往下是主标题和副标题。商品与文字之间有明显的视觉分隔——商品下方是一个红色信封造型的背景，文字则位于信封下方，形成自然的视觉落点。这种布局让商品成为视觉焦点，文字作为补充说明，层次分明。\n\n3.  **整体布局**：广告整体采用上图下文的经典结构，红色背景烘托喜庆氛围，金色文字和商品与背景形成强烈对比，视觉冲击力强。文字排版遵循从上到下的阅读顺序，信息层级清晰（品牌 → 产品名称 → 促销语 → 价格说明），没有重叠或拥挤感。\n\n综"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/2025081818240278AE902D4EE64CDE83C1C885FD8AD815.jpg",
    "response": "1. **字与标签logo之间是否离得太近？**  \n   - “iQIYI 爱奇艺”标签位于图片左上角，而“長風渡”标题位于右侧，两者在视觉上相隔较远，中间有较大留白和画面元素（如人物、水墨背景）分隔，**没有离得太近**。\n\n2. **字与商品之间是否离得太近？**  \n   - 图中“商品”指的是两位女性角色（即演员/角色形象），她们是画面主体，而“長風渡”标题位于右侧，与前景角色（穿红衣者）有明显距离，与背景角色（穿白衣者）也有空间分隔。标题文字并未紧贴人物或遮挡人物，**没有离得太近**。\n\n✅ **结论：这张广告图的排版布局合理。**  \n- 标题与logo之间、标题与人物之间均保持了适当距离，视觉层次清晰，不会造成拥挤或遮挡，符合广告设计的美学与阅读习惯。"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_20250815105251C2C57BA1FFFC453C908827C82993D836.jpg",
    "response": "这张广告图的排版布局**不合理**。\n\n理由如下：\n\n1.  **字与标签logo之间离得太近**：在图片右下角，节目标题“披荆斩棘”及其英文“GAME ME BY FIRE”与下方的“王老吉”品牌标签（红底白字）在视觉上几乎贴在一起，没有留出足够的呼吸空间。这种紧密的堆叠容易让观众视觉疲劳，且“王老吉”作为赞助商的标签，与节目标题的层级关系不够清晰，显得拥挤。\n\n2.  **字与商品之间离得太近**：节目标题“披荆斩棘”及其英文“GAME ME BY FIRE”位于笔记本电脑的正下方，而笔记本电脑是商品（或道具）。文字与商品（电脑）的顶部边缘几乎接触，缺乏必要的视觉间距。这种安排会让人误以为文字是电脑的一部分，或造成视觉上的压迫感，影响了画面的层次感和专业性。\n\n综上，由于存在两个明显的排版问题（文字与标签logo过近、文字与商品过近），可以判定这张广告图的排版布局**不合理**。"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/20251119123012F3FC9568F0A64DBD9E94562A4C76D8D7.jpeg",
    "response": "这张广告图的排版布局**不合理**。\n\n理由如下：\n\n1.  **字与标签logo之间离得太近**：  \n    图片下方的“责任内”蓝色标签与紧随其后的“原研药可报销”文字之间间距极小，几乎紧贴在一起，视觉上显得拥挤，缺乏呼吸感。这种紧凑的排版容易让读者感到压迫，影响阅读体验和信息层级的清晰度。\n\n2.  **字与商品之间离得太近**：  \n    “越早购买越划算”这句核心宣传语位于“原研药可报销”下方，但两者之间没有足够的留白或视觉分隔。更重要的是，这句宣传语与上方的“责任内”标签和“原研药可报销”文字共同构成了一个信息块，而这个信息块与上方的“商品”（即图片中展示的平板电脑及其屏幕内容）之间几乎没有视觉或空间上的分隔。广告图的“商品”是家庭场景中丈夫手持的平板电脑，而文字信息却直接压在画面下方，与商品在视觉上“贴得太近”，缺乏明确的视觉引导和层次感。\n\n综合来看，这两个问题都存在，"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/20251118164419AE762A36394F441EA9C7AD5C67A8BBAC.jpg",
    "response": "这张广告图的排版布局**合理**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告左上角的“淘宝热卖”橙色标签logo，与下方的主标题“『万能淘宝』海量优质好货”之间有明显的留白和视觉间距。这个距离适中，既保证了logo的独立识别性，又不会让标题显得孤立，整体视觉层次清晰，没有“离得太近”的压迫感。\n\n2.  **字与商品之间距离**：主标题位于画面中上部，而商品（成人纸尿片包装）位于画面中下部，两者之间有充足的背景空间和视觉过渡。商品包装上的文字（如“加厚型36片”）与包装本身是商品信息的一部分，属于包装设计，不属于“字与商品之间距离”的范畴。即使将主标题与商品包装视为“字与商品”，它们之间也存在足够的视觉呼吸空间，没有拥挤或重叠感。\n\n**结论**：广告图中的文字与标签logo、文字与商品之间均未出现“离得太近”的问题，排版布局清晰、层次分明，视觉引导流畅，符合现代广告设计的美学原则"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_20250625150356A8F2EC02144F4EEB80B7C87C9CB454A3.jpg",
    "response": "这张广告图的排版布局**不合理**。\n\n理由如下：\n\n1.  **字与标签logo之间离得太近**：广告顶部的“热门短剧”标签logo（红色圆形图标）与上方的“追短剧，来河马剧场”主标题文字之间距离非常近，几乎贴在一起。这种紧凑的排布容易让视觉焦点混乱，且在视觉上缺乏呼吸感和层次感，不符合现代广告设计中“留白”和“层级分明”的原则，显得拥挤。\n\n2.  **字与商品之间离得太近**：主标题“追短剧，来河马剧场”和副标题“好剧连台看到爽”位于上方，而下方的“电影胶片”式商品（短剧海报）则紧贴其下方，中间仅由一个不规则的撕裂状白色图形隔开。这个隔断图形虽然有设计感，但未能有效缓冲文字与商品之间的视觉冲击力，导致文字与商品在视觉上“挤在一起”，削弱了信息的清晰传达。\n\n**结论**：由于存在“字与标签logo离得太近”和“字与商品离得太近”两个问题，这张广告图的排版"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_20251030112755BD0DEEAC84CA467BA60BC34B74E0C5ED.jpg",
    "response": "1. 字与标签logo之间：**离得较近，但不算“太近”**。  \n   - 标签logo（快手图标）与文字“上快手”在视觉上紧密相连，属于正常的品牌标识设计，符合广告图中强调品牌识别的需求，没有造成视觉拥挤或阅读障碍。\n\n2. 字与商品之间：**离得较近，但不算“太近”或“不合理”**。  \n   - “拥抱每一种生活”这句宣传语位于画面中上部，下方是卡通人物和稻田、水车等场景元素。文字与人物/稻田之间有清晰的视觉空间，人物本身是“商品”或“生活方式”的具象化载体，文字与之形成内容关联，而非物理意义上的“商品”（如实物商品），因此这种“近”是语义和视觉引导上的合理布局。\n\n✅ **最终判断：这张广告图的排版布局是合理的。**\n\n理由：  \n- 品牌标识与文字紧密配合，强化品牌记忆。  \n- 宣传语与画面内容（人物、田园、民族文化）形成情感与视觉上的呼应，未造成压迫感。  \n- 画面层次清晰，"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/20250515092620521b948300434447803b681c8c966b0f.jpg",
    "response": "这张广告图的排版布局是**合理的**。\n\n以下是具体分析：\n\n1.  **字与标签logo之间是否离得太近？**\n    -   图片顶部左侧是香奈儿（CHANEL）的双C标志和品牌名“CHANEL”，右侧是红色的“小红书”平台logo。\n    -   它们与下方的主标题“香奈儿护手霜”之间有明显的留白和视觉间距。主标题字体较大，位于两个logo下方，形成了清晰的视觉层级和呼吸感，没有拥挤或重叠的感觉。\n    -   **结论：字与标签logo之间没有离得太近，布局合理。**\n\n2.  **字与商品之间是否离得太近？**\n    -   主标题“香奈儿护手霜”和副标题“「“手”护一整天」”位于图片上半部分，而商品（护手霜瓶）位于图片中下部。\n    -   两者之间有相当大的垂直空间，中间隔着背景渐变色和部分留白，商品瓶身下方还有岩石基座，进一步拉开了与文字的距离。\n    -   **结论：字与商品之间没有离得太近"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_2025082114360841B2191E7D1E4F089EBEB623024EC7AE.jpg",
    "response": "1. **字与标签logo之间是否离得太近？**  \n   - **判断：否。**  \n     标签logo（京东logo）位于图片右上角，文字“绞肉辅食 一键搞定”位于图片中上部，两者之间有明显的垂直和水平间距，中间有背景色块过渡，视觉上不拥挤，符合广告设计规范。\n\n2. **字与商品之间是否离得太近？**  \n   - **判断：否。**  \n     主标题“绞肉辅食 一键搞定”位于图片中上部，商品（电动料理机）位于图片中下部，两者之间有充足的留白和视觉缓冲区，商品下方还有辅助文字和实物展示（如蒜末、辣椒等），整体层次分明，没有压迫感。\n\n3. **最终判断：这张广告图的排版布局是否合理？**  \n   - **判断：合理。**  \n     图片整体布局清晰、层次分明：  \n     - 顶部为品牌logo（京东）和主标题，形成视觉焦点；  \n     - 中部为产品展示，突出核心商品；  \n     - 底部为实物食材和辅助说明，增强真实感和功能"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_202508081628154826AE2893F94599A57E008563B53310.jpg",
    "response": "这张广告图的排版布局**合理**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告顶部的“HUAWEI”品牌Logo位于最上方，其下方是“HUAWEI Mate70 系列”和“XMAGE”标签。两者间距适中，符合视觉层级关系，Logo作为品牌标识，文字作为产品名称，这种布局清晰、有层次感，没有显得拥挤或离得太近。\n\n2.  **字与商品之间距离**：广告中的主要宣传文字（如“应用进程实时关注”、“出行快人一步”、“限时礼遇，至高可享1000元优惠”）位于手机屏幕图形的上方，与手机图形本身有明显的留白和视觉分隔。手机图形作为“商品”展示，文字作为“卖点”和“促销信息”，这种上下结构是广告设计中的经典布局，既突出了产品，又清晰传达了信息，距离恰当，不会产生压迫感或视觉混乱。\n\n**结论**：广告图中文字与标签logo、文字与商品之间的距离都处理得当，符合视觉设计规范，排版布局合理。"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_2025081518283250EC2BE34B354F30A30BC56EF690DF06.jpg",
    "response": "这张广告图的排版布局是**合理的**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告顶部的“京东”logo位于右上角，下方是“伊利甄稀冰淇淋”的主标题。两者之间有明显的垂直间距，logo没有压在文字上，也没有显得拥挤。这种布局符合常见的广告设计规范，既突出了平台品牌，又保证了主推产品的视觉优先级。\n\n2.  **字与商品之间距离**：主标题“伊利甄稀冰淇淋”和副标题“三层口感 层层惊喜”位于图片上半部分，而商品（包装和冰棍）位于图片中下部。两者之间有充足的留白和视觉过渡空间，文字没有遮挡商品，商品也没有被文字“挤压”或“覆盖”。这种“上文下图”的布局非常经典，引导观众视线自然从文字信息过渡到产品实物，符合视觉动线。\n\n3.  **整体布局**：广告图整体采用上文、中图、下注（底部小字说明）的结构，层次清晰。背景色从上到下由浅绿渐变到浅粉，营造出清新、柔和的夏日氛围，与“"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_2025081511385054A314F2CAB544FFA276B0975517A5F0.jpg",
    "response": "1. **字与标签logo之间是否离得太近？**  \n   - **判断：是，离得太近。**  \n   - **理由：** 图片左上角的“热门短剧”标签logo（红色方块+白色文字）与上方的标题“经年离歌 愁未休”在视觉上距离非常近，几乎紧贴。这种排版容易让观众误以为logo是标题的一部分，或者产生视觉拥挤感，影响标题的突出性与阅读体验。\n\n2. **字与商品之间是否离得太近？**  \n   - **判断：否，没有“商品”。**  \n   - **理由：** 图片中没有明确的“商品”（如产品、实物、可购买物品等）。图中人物是演员，背景是场景，整体是影视短剧的宣传海报，不属于商品广告。因此，不存在“字与商品之间距离过近”的问题。\n\n3. **最终判断：这张广告图的排版布局是否合理？**  \n   - **判断：不合理。**  \n   - **理由：** 尽管没有“字与商品”过近的问题，但“字与标签logo”之间距离过近"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/20251119173539D5FC1051643D4ED0AAE883476B568388.jpg",
    "response": "1. **字与标签logo之间是否离得太近？**  \n   - 图中“支”字作为支付宝的logo（或品牌标识），位于“上支付宝”文字的上方，两者间距适中，视觉上形成品牌识别的引导，没有拥挤或重叠，**不离得太近**。\n\n2. **字与商品之间是否离得太近？**  \n   - 广告文字（“上支付宝点美味外卖”“领超值闪购红包”等）位于图片上半部分，而商品（三明治、咖啡、沙拉）位于下半部分。文字与商品之间有明显的留白和视觉分隔，背景为虚化桌面，文字区域与食物区域之间有清晰的视觉层次，**不离得太近**。\n\n✅ **最终判断：这张广告图的排版布局合理。**  \n文字与logo间距、文字与商品间距均符合视觉设计规范，层次分明，重点突出，不会造成拥挤或干扰，符合广告设计的“留白”和“引导视线”原则。"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/2025111911281998D74D7E8EDD454EB74580AA9268A75A.jpg",
    "response": "这张广告图的排版布局**合理**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告右上角的“TE connectivity”橙色标签logo，与下方的主标题“携手 TE, 加速技术突破”之间有明显的留白和视觉间隔。logo位于顶部，标题位于中部，符合常规的视觉层级和阅读习惯，没有显得拥挤或重叠。\n\n2.  **字与商品之间距离**：主标题“携手 TE, 加速技术突破”和“了解详情”按钮位于画面中下部，而前景中的橙色连接器产品（商品）位于画面中下部，但文字是叠加在商品图像的**上方和前方**，并非紧贴商品。文字与商品之间有清晰的视觉分隔，商品作为背景元素，文字作为前景信息，这种布局既突出了文字信息，又保留了商品的视觉完整性，没有产生压迫感或遮挡感。\n\n3.  **整体布局**：整个画面采用“人物+产品+文字+品牌logo”的经典广告结构。人物在中间偏右，产品在前景，文字在中下部，logo在右上角，层次分明，视觉引导清晰"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_20250818150308CA6A90E3A6BD422D83F4EB3BC8A5EC79.jpg",
    "response": "1. **字与标签logo之间距离**：  \n   图中“蚂蚁保”logo位于画面顶部中央偏左，下方是插画主体。文字内容（保险产品信息）位于画面下半部分，与logo之间有明显的垂直空间（约1/3画面高度），中间有插画内容隔开，**距离不算太近**，视觉上无压迫感。\n\n2. **字与商品之间距离**：  \n   “商品”在此语境中可理解为插画中的“女性人物”或“办公场景”（即广告的视觉主体）。文字内容位于画面底部，与插画主体之间有清晰的视觉分隔（插画结束处到文字区域有留白过渡），**距离不算太近**，视觉层次分明。\n\n3. **排版布局合理性判断**：  \n   该广告图整体结构清晰：  \n   - 顶部：品牌logo（视觉锚点）  \n   - 中部：核心视觉（人物+办公场景，传达“现代职场女性”形象）  \n   - 底部：产品信息与促销文案（重点信息区）  \n   三段式布局符合广告设计原则，文字与视觉元素之间留白合理，"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/20251031160532D6C2A882944142DD89B4EC5690EEE373.jpg",
    "response": "这张广告图的排版布局是**合理的**。\n\n以下是详细分析：\n\n1.  **字与标签logo之间是否离得太近？**\n    -   图片底部的“建信消费金融”文字、其英文“CCB Consumer Finance”以及下方的标语“建美好 信未来”与上方的蓝色圆形logo（建信消费金融的标志）之间，存在明显的留白和间距。\n    -   这种布局符合品牌标识的标准设计规范，logo与文字之间有清晰的视觉分隔，既保证了logo的识别度，也使文字信息清晰可读，不会显得拥挤或重叠。\n\n2.  **字与商品之间是否离得太近？**\n    -   广告中主要的“字”（如“借钱就用 建信福‘贷’”、“年化利率（单利）5.68%起”等）位于图片上半部分，而“商品”（即中间的卡通形象和红色礼盒）位于图片中部。\n    -   这些文字与中间的卡通形象和礼盒之间有充足的视觉空间，卡通形象和礼盒的上方还有文字，下方有蓝色弧线过渡"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/202511141733268FB9E8451EA74035A1A95D18BA01E775.jpg",
    "response": "这张广告图的排版布局是**合理的**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告左上角的“淘宝热卖”橙色标签logo与下方的主文案“想买到实惠的商品吗？”之间有明显的留白和视觉间距。这种布局符合广告设计中“品牌标识与主信息区分开”的原则，既突出了品牌，又不会让视觉元素拥挤。\n\n2.  **字与商品之间距离**：主文案位于画面中上部，而商品（床垫）和人物位于画面中下部。两者之间有充足的视觉空间，文案并未覆盖或遮挡商品，也没有因距离过近而产生压迫感或视觉冲突。文案与商品在视觉上是分层的，文案引导用户思考，商品则作为解决方案呈现，符合广告的叙事逻辑。\n\n3.  **整体布局**：广告采用了经典的“左文右图”或“上文下图”结构，文字部分集中在左上角，商品和人物在右侧及下方，形成了良好的视觉引导。色彩搭配（蓝色背景、黄色衬衫、白色商品）和谐统一，视觉焦点清晰，没有拥挤或混乱的感觉。\n\n综上，图中文字"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/_dsp_url_2025081917073747973E7496294F9EAF9D919E5B8D1F65.jpg",
    "response": "1. **字与标签logo之间是否离得太近？**  \n   → **否**。  \n   图片左上角的“蚂蚁保”logo与下方文字内容之间有明显的留白和视觉间距，logo下方是纯色背景区域，文字从下方开始，整体布局清晰，没有拥挤感，符合视觉设计规范。\n\n2. **字与商品之间是否离得太近？**  \n   → **是**。  \n   这里需要澄清：广告中的“商品”指的是“好医保·门诊险(体验版)”这一保险产品。文字（产品名称、保额、价格等）直接覆盖在模特（即“商品”视觉载体）的下方，且文字区域与模特图像的边界几乎没有留白缓冲。虽然模特是人物形象，但在广告语境中，她作为“体验者”或“受益者”形象，与文字内容存在视觉上的重叠和挤压，缺乏必要的视觉呼吸空间，容易造成视觉混乱或信息过载。\n\n   从排版设计角度，文字与图像主体（人物）之间应保持适度间距，以避免视觉压迫感，提升可读性和美观度。此处文字直接压在人物图像下方，属于“"
  },
  {
    "image": "/home/wsw/gyx/code_11.28/test_data/正常-normal_data/dsp_url_202511262023220EE6C5583FE3496C82702A22026714DF.jpg",
    "response": "这张广告图的排版布局是**合理的**。\n\n理由如下：\n\n1.  **字与标签logo之间距离**：广告顶部的“支”字（支付宝logo的变形或部分展示）与下方的“支付就用支付宝”主标语之间，有清晰的视觉留白和层级关系。这种设计符合广告设计原则，既突出了品牌标识，又保证了主标语的可读性，没有出现文字重叠或拥挤的情况。\n\n2.  **字与商品之间距离**：主标语“支付就用支付宝”和其下方的“送您一张7元的网上消费红包”位于画面中上部，而商品（如蔬菜、货架）主要分布在画面中下部。文字与商品之间有充足的视觉空间，文字没有压在商品上，也没有遮挡商品，保持了画面的清晰度和商业场景的真实感。\n\n**结论**：广告图中的文字与标签logo、文字与商品之间均保持了恰当的距离，排版层次分明，视觉引导清晰，没有出现“离得太近”的问题，因此整体布局是合理的。"
  },
# coding=utf-8

from __future__ import absolute_import, division, print_function
# import os
# os.environ['CUDA_VISIBLE_DEVICES'] = '1'
import numpy as np

from PIL import Image
import torch
from torchvision import transforms
from torch.utils.data import DataLoader, SequentialSampler
from torch.utils.data import Dataset
import cv2

class NumpyImageDataset(Dataset):
    """Custom dataset that accepts numpy arrays and returns image paths alongside images and labels"""
    def __init__(self, images,  transform=None):
        """
        Args:
            images (numpy.ndarray): Array of images in numpy format (N, H, W, C)
            transform (callable, optional): Optional transform to be applied
        """
        self.images = images
        self.transform = transform
        
    def __len__(self):
        return len(self.images)
    
    def __getitem__(self, index):
        image = self.images[index]  # Get the specific image at this index
        
        # Convert numpy array to PIL Image
        if len(image.shape) == 3:  # (H, W, C)
            image = Image.fromarray(image)
        else:
            raise ValueError(f"Unsupported image shape: {image.shape}")
            
        if self.transform is not None:
            image = self.transform(image)
            
        return image


def is_realistic_or_postprocessing(ViT_model,img_np):

#    print(ViT_model)

    transform_test = transforms.Compose([
        transforms.Resize((384, 384)),
        transforms.ToTensor(),
        transforms.Normalize(mean=[0.5, 0.5, 0.5], std=[0.5, 0.5, 0.5]),
    ])
    img_rgb = cv2.cvtColor(img_np, cv2.COLOR_BGR2RGB)  # shape: (H, W, C), RGB格式
    
    # 2. 添加batch维度 (N=1)
    img_np = np.expand_dims(img_rgb, axis=0)  # shape: (1, H, W, C)
    
    numpy_images = img_np  # shape (N, H, W, C)
    testset = NumpyImageDataset(numpy_images, transform=transform_test) 
    test_sampler = SequentialSampler(testset)
    test_loader = DataLoader(testset,
                             sampler=test_sampler,
                             batch_size=1,
                             num_workers=1,
                             pin_memory=True) if testset is not None else None
    ViT_model.zero_grad()
    ViT_model.eval()
    for step, batch in enumerate(test_loader):
        # Now batch contains (images, labels, paths)
        images= batch.cuda()

        with torch.no_grad():
            logits = ViT_model(images)[0]
            preds = torch.argmax(logits, dim=-1)
    
    if preds==1:
        return True
    else:
        return False


if __name__ == "__main__":
    pretrained_dir="/DATA/DATA1/gyx/huawei_ad/model/ViT/hw_checkpoint.bin"
    # 1. 读取图像
    img_path = "/DATA/DATA1/gyx/huawei_ad/objective_database/test/真实感/负样本/IMG_9031.jpg"  # 替换为你的图像路径
    img = Image.open(img_path)  # 用PIL读取图像

    # 2. 转换为NumPy数组 (H, W, C)
    img_np = np.array(img)  # shape: (height, width, channels), RGB格式
    # Add batch dimension (N=1 for single image)
    img_np = np.expand_dims(img_np, axis=0)  # shape becomes (1, H, W, C)
    preds=main(pretrained_dir,img_np)
    # print(preds)
